require "socket"

server = "chat.freenode.net"
port = "6667"
nick = "CockneyBot"
channel = "#bitmakerlabs"
irc_prefix = "PRIVMSG #bitmakerlabs :"
#opens a new socket with the correct port and server
s = TCPSocket.open(server, port)

cockney_words = {
"socks" => "almond rocks",
"stairs" => "apples and pears",
"car" => "jam jar",
"tea" => "Rosey Lee",
"sick" => "Tom and Dick",
"pub" => "Rub a dub dub",
"wife" => "Trouble and strife",
"shit" => "Richard the Third"
}

#white noise... 
# print("addr: ", s.addr.join(":"), "\n")
# print("peer: ", s.peeraddr.join(":"), "\n")
s.puts "USER CockneyBot 0 * CockneyBot"
s.puts "NICK #{nick}"
s.puts "JOIN #{channel}"
s.puts "PRIVMSG #{channel} :Awright geezzaaa! Hello from Cockneybot. Sorted mate."

until s.eof? do
  msg = s.gets.to_s
  puts msg
end

  
    if 	msg == cockney_words.each do |key, value|
    	puts "You spoke a Cockney word! Translated it is #{value}"    	
    	# puts "You're word #{cockney_words|key|} translated into Cockney #{cockney)words|value|} "
    end
end

    # 	.each do |key| 
    # 	puts irc_prefix + "#{cockney_words[value]}" 
    # 	end
    # end

#   if msg.include? greeting_prefix and wasGreeted
#     puts "About to send out a message!"
#     response = "w00t! Someone talked to us!!!! Hello!!!"
#     s.puts "PRIVMSG #{channel} :#{response}"
#   end




# require "socket"

# server = "chat.freenode.net"
# port = "6667"
# nick = "HelloWillBot"
# channel = "#bitmakerlabs"
# greeting_prefix = "PRIVMSG #bitmakerlabs :"
# greetings = ["hello", "hi", "hola", "yo", "wazup", "guten tag", "howdy", "salutations", "who the hell are you?"]

# until s.eof? do
#   msg = s.gets
#   puts msg

#   wasGreeted = false
#   greetings.each do |greeting|
#     if msg.include? greeting
#       wasGreeted = true 
#       puts "The greeting was recognized."
#     end
#   end

#   if msg.include? greeting_prefix and wasGreeted
#     puts "About to send out a message!"
#     response = "w00t! Someone talked to us!!!! Hello!!!"
#     s.puts "PRIVMSG #{channel} :#{response}"
#   end

# end

# as a person
# Set up Nickname -> /NICK [USERNAME]
# # Join -> /JOIN #bitmaker